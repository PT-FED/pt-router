!function(t){function e(o){if(r[o])return r[o].exports;var n=r[o]={exports:{},id:o,loaded:!1};return t[o].call(n.exports,n,n.exports,e),n.loaded=!0,n.exports}var r={};return e.m=t,e.c=r,e.p="",e(0)}([function(t,e,r){!function(e,r,o){"use strict";t.exports=o()}("undefined"!=typeof window?window:this,"Router",function(){"use strict";var t={PATH_NAME_MATCHER:/:([\w\d]+)/g,PATH_REPLACER:"([^/\\?]+)",PATH_EVERY_MATCHER:/\/\*(?!\*)/,PATH_EVERY_REPLACER:"/([^/\\?]+)",PATH_EVERY_GLOBAL_MATCHER:/\*{2}/,PATH_EVERY_GLOBAL_REPLACER:"(.*?)\\??",LEADING_BACKSLASHES_MATCH:/\/*$/,extend:function(t){for(var e=Array.prototype.slice.call(arguments,1),r=null,o=0,n=e.length;o<n;o++){r=e[o];for(var s in r)r.hasOwnProperty(s)&&(t[s]=r[s])}return t}},e={addHashChangeListener:function(t,e){t.addEventListener("hashchange",e)},removeHashChangeListener:function(t,e){t.removeEventListener("hashchange",e)}},r=function(t){this.href=t,this.params={},this.query={},this.splat={},this.hasNext=!1};r.prototype.get=function(t,e){return this.params[t]||this.query[t]||e};var o=function(r){this._options=t.extend({ignorecase:!0},r||{}),this._routes=[],this._befores=[],this._errors={_:function(t,e){console.warn("Router.js: "+t)},_404:function(t,e){console.warn("404! 无法匹配URL: "+e)},_500:function(t,e){console.error("500! 发生错误: "+e)}},e.addHashChangeListener(window,this._hashChangeHandler.bind(this))};return o.prototype.errors=function(t,e){if(isNaN(t))throw new Error("不合理的错误码,Router不能处理!");if(!(e instanceof Function))throw new Error("不合理的callback,Router不能处理!");return t="_"+t,this._errors[t]=e,this},o.prototype._throwsRouteError=function(t,e){return this._errors["_"+t]instanceof Function?this._errors["_"+t](t,e):this._errors._(t,e),!1},o.prototype._hashChangeHandler=function(t){return this._route(window.location.hash),!0},o.prototype._routeBefores=function(t,e,r,o,n){var s;if(t.length>0){var i=t.shift();s=function(e){return e?this._throwsRouteError(e||500,r):void this._routeBefores(t,i,r,o,n)}.bind(this)}else s=function(t){return t?this._throwsRouteError(t||500,r):void this._followRoute(r,o,n)}.bind(this);e(this._buildRequestObject(r,null,null,!0),s)},o.prototype._route=function(e){var r,o=[],n=this._befores.slice(),s=this._routes,i=e;if(0===i.length)return!0;i=i.replace(t.LEADING_BACKSLASHES_MATCH,""),r=i.split("?")[0].replace(t.LEADING_BACKSLASHES_MATCH,"");for(var h=0,u=s.length;h<u;h++)s[h].path.test(r)&&o.push(h);if(o.length>0)if(n.length>0){var a=n.shift();this._routeBefores(n,a,e,i,o)}else this._followRoute(e,i,o);else this._throwsRouteError(404,e)},o.prototype._followRoute=function(t,e,r){var o,n=r.shift(),s=this._routes[n],i=e.match(s.path),h={},u=[];if(!s)return this._throwsRouteError(500,t);for(var a=0,_=s.paramNames.length;a<_;a++)h[s.paramNames[a]]=i[a+1];if(a+=1,i&&a<i.length)for(var f=a;f<i.length;f++)u.push(i[f]);var c=0!==r.length,p=function(o){return!c||o?this._throwsRouteError(500,t):void this._followRoute(t,e,r)}.bind(this);o=this._buildRequestObject(t,h,u,c),s.routeAction(o,p)},o.prototype._buildRequestObject=function(t,e,o,n){var s=new r(t);return s.params=e||{},s.splat=o||{},s.hasNext=n,t.replace(/([^?&=]+)=([^&]+)/g,function(t,e,r){s.query[e]=r}),s},o.prototype.before=function(t){return this._befores.push(t),this},o.prototype.add=function(e,r){var o,n=[];if("string"==typeof e){for(e=e.replace(t.LEADING_BACKSLASHES_MATCH,"");null!==(o=t.PATH_NAME_MATCHER.exec(e));)n.push(o[1]);e=new RegExp(e.replace(t.PATH_NAME_MATCHER,t.PATH_REPLACER).replace(t.PATH_EVERY_MATCHER,t.PATH_EVERY_REPLACER).replace(t.PATH_EVERY_GLOBAL_MATCHER,t.PATH_EVERY_GLOBAL_REPLACER)+"(?:\\?.+)?$",this._options.ignorecase?"i":"")}return this._routes.push({path:e,paramNames:n,routeAction:r}),this},o.prototype.destroy=function(){e.removeHashChangeListener(window,this._hashChangeHandler)},o})}]);